const questions = [

/* ================= MCQs (66) ================= */

/* ===== Exam 2018 ===== */

{
  type: "mcq",
  q: "When the supervisor puts action plans for subordinates, it is considered:",
  options: ["Chain of command", "Unity of command", "Span of control", "Specialization"],
  a: 3
},
{
  type: "mcq",
  q: "The obligation of a subordinate to perform assigned duties is:",
  options: ["Accountability", "Power", "Responsibility", "Authority"],
  a: 2
},
{
  type: "mcq",
  q: "Nursing information system has the following benefits except:",
  options: ["Increase time spent at nurse station", "Reduce paperwork", "Automated tools of documentation", "Quality can be measured"],
  a: 0
},
{
  type: "mcq",
  q: "It measures work efforts that go into a performance task:",
  options: ["Strategic plan", "Input standards", "Output standards", "Controlling"],
  a: 1
},
{
  type: "mcq",
  q: "All of the following are middle managers except:",
  options: ["Project leader", "Department head", "Plant manager", "Supervisors"],
  a: 3
},
{
  type: "mcq",
  q: "Operational functions include the following except:",
  options: ["Directing", "Marketing", "Financing", "Production"],
  a: 0
},
{
  type: "mcq",
  q: "It is accomplished before a work activity begins:",
  options: ["Preliminary control", "Concurrent control", "Post action control", "Internal control"],
  a: 0
},
{
  type: "mcq",
  q: "The manager applies directing function to help in:",
  options: ["Time management", "Power ability", "Using different tools", "Transfer plans into performance"],
  a: 3
},
{
  type: "mcq",
  q: "All of the following are reasons for planning except:",
  options: ["Provide direction", "Reduce uncertainty", "Maximize waste", "Facilitate decision making"],
  a: 2
},
{
  type: "mcq",
  q: "Basic elements of directing include:",
  options: ["Leadership", "Supervision", "Motivation", "All of the above"],
  a: 3
},

/* ===== Exam 2019 ===== */

{
  type: "mcq",
  q: "The chart that defines personnel names in organizational chart is:",
  options: ["Manning chart", "Skeleton chart", "Functional chart", "Master chart"],
  a: 0
},
{
  type: "mcq",
  q: "The process of choosing the best qualified personnel for a job is:",
  options: ["Recruitment", "Interview", "Choosing", "Traditional system"],
  a: 0
},
{
  type: "mcq",
  q: "Nurses’ agreement to be morally responsible for the consequences of their actions is:",
  options: ["Accountability", "Power", "Responsibility", "Authority"],
  a: 0
},
{
  type: "mcq",
  q: "Nurse manager develops priorities for solving problems according to:",
  options: ["What comes first", "The situation", "Shorter time", "Easiest"],
  a: 1
},
{
  type: "mcq",
  q: "The role of control is:",
  options: ["Critical link back to planning", "Facilitating goal achievement", "Detecting irregularities", "Making delegation easier"],
  a: 0
},
{
  type: "mcq",
  q: "A type of plan that is flexible and sets out general guidelines is:",
  options: ["Directional plans", "Standing plans", "Single-use plans", "Specific plans"],
  a: 0
},
{
  type: "mcq",
  q: "Directing function helps in:",
  options: ["Time management", "Power ability", "Using tools", "Transferring plans into performance"],
  a: 3
},
{
  type: "mcq",
  q: "Measuring performance results in terms of quantity, quality, cost, and time is considered:",
  options: ["Output standards", "Objectives", "Controlling", "Input standards"],
  a: 0
},
{
  type: "mcq",
  q: "All of the following are phases of implementing nursing information system except:",
  options: ["Assessment", "Planning", "Analysis", "Design"],
  a: 0
},
{
  type: "mcq",
  q: "All of the following are considered top-level managers except:",
  options: ["Project leader", "Executive vice president", "Chief operating officer", "Chairman"],
  a: 0
},

/* ===== Exam 2020 ===== */

{
  type: "mcq",
  q: "The department head is:",
  options: ["First line manager", "Second line manager", "Middle manager", "Top manager"],
  a: 2
},
{
  type: "mcq",
  q: "Which of the following is not a benefit of planning?",
  options: ["Controlling the work", "Increase redundancy", "Minimizes waste", "Provides direction"],
  a: 1
},
{
  type: "mcq",
  q: "The direction required at all levels of organization is:",
  options: ["Continuous activity", "Human factor", "Executive function", "Pervasive function"],
  a: 3
},
{
  type: "mcq",
  q: "Which of the following is not modes for active recruitment?",
  options: ["School placement", "Advertisement", "Socialization", "Employment agencies"],
  a: 2
},
{
  type: "mcq",
  q: "The chart that shows high-level management at the left and lower positions at the right is:",
  options: ["Vertical", "Circular", "Horizontal", "Diagonal"],
  a: 2
},
{
  type: "mcq",
  q: "When the director of human resources gives instructions to nurses, it is considered:",
  options: ["Upward", "Downward", "Diagonal", "Horizontal"],
  a: 1
},
{
  type: "mcq",
  q: "When decision makers concern with personal development of others, they apply:",
  options: ["Directive", "Analytical", "Conceptual", "Behavioral"],
  a: 3
},
{
  type: "mcq",
  q: "Flexible plans that set out general guidelines are called:",
  options: ["Directional", "Standing", "Single-use", "Specific"],
  a: 0
},
{
  type: "mcq",
  q: "When head nurse consults nurses before decision, this is:",
  options: ["Consultative", "Free rein", "Automatic", "Oral"],
  a: 0
},
{
  type: "mcq",
  q: "When head nurse puts action plans for nurses, it is:",
  options: ["Chain of command", "Unity of command", "Span of control", "Specialization"],
  a: 2
},
{
  type: "mcq",
  q: "Interview is important for the following except:",
  options: ["Dependability", "Teamwork", "Interest", "Contact with schools"],
  a: 3
},
{
  type: "mcq",
  q: "All the following are considerations applied during staffing except:",
  options: [
    "Type of the patients",
    "Interpersonal skills",
    "Staff needs and availability",
    "Budget constraints"
  ],
  a: 2
}
{
  type: "mcq",
  q: "The role of control is:",
  options: [
    "Critical link back to plan",
    "Facilitates goal achievement",
    "Detecting irregularities",
    "Makes delegation easier"
  ],
  a: 0
},
/* ===== Exam 2022 ===== */

{
  type: "mcq",
  q: "Systematic arrangement of activities is:",
  options: ["Planning", "Organizing", "Controlling", "Directing"],
  a: 1
},
{
  type: "mcq",
  q: "High-level management at top with formal lines is:",
  options: ["Vertical chart", "Horizontal chart", "Circular chart", "Diagonal chart"],
  a: 0
},
{
  type: "mcq",
  q: "Performance of single leading function is:",
  options: ["Objective", "Definition", "Specialization", "Coordination"],
  a: 2
},
{
  type: "mcq",
  q: "Time frame 5–10 years ensures long-term goals:",
  options: ["Directional", "Strategic", "Operational", "Intermediate"],
  a: 1
},
{
  type: "mcq",
  q: "Problem that leads to disaster if unresolved quickly:",
  options: ["Structured", "Crisis", "Analytic", "Unstructured"],
  a: 1
},
{
  type: "mcq",
  q: "Receiving orders from only one superior means:",
  options: ["Unity of command", "Unity of direction", "Authority", "Responsibility"],
  a: 0
},
{
  type: "mcq",
  q: "The chart that defines personnel titles of all positions is:",
  options: ["Manning chart", "Skeleton chart", "Functional chart", "Master chart"],
  a: 0
},
{
  type: "mcq",
  q: "Nurses agreeing to be morally responsible for consequences of their actions is:",
  options: ["Accountability", "Power", "Responsibility", "Authority"],
  a: 0
},
{
  type: "mcq",
  q: "Contains details of how overall goals are achieved:",
  options: ["Directional plans", "Standing plans", "Operational plans", "Specific plans"],
  a: 3
},
{
  type: "mcq",
  q: "Policies and procedures are included in:",
  options: ["Standing plans", "Short-term plans", "Long-term plans", "Single-use plans"],
  a: 0
},
{
  type: "mcq",
  q: "Determining present circumstances is the … step in strategic planning:",
  options: ["First", "Second", "Third", "Fourth"],
  a: 0
},
{
  type: "mcq",
  q: "When managers make decisions quickly with little information, they apply:",
  options: ["Directive", "Analytical", "Conceptual", "Behavioral"],
  a: 0
},
{
  type: "mcq",
  q: "First step in traditional problem-solving model is:",
  options: [
    "Gathering data",
    "Exploring alternatives",
    "Selecting solution",
    "Identifying problem"
  ],
  a: 3
},
{
  type: "mcq",
  q: "Common mistake in defining the problem is:",
  options: [
    "Gathering data",
    "Exploring solutions",
    "Neglecting causes",
    "Selecting solution"
  ],
  a: 2
},
{
  type: "mcq",
  q: "If desired results are not achieved, decision-making process must be:",
  options: ["Renewed", "Stopped", "Canceled", "Finished"],
  a: 0
},
{
  type: "mcq",
  q: "Head nurse level is:",
  options: ["Top", "Middle", "Lower", "Operational"],
  a: 2
},
{
  type: "mcq",
  q: "Degree to which nurses are involved in decision making is:",
  options: ["Order", "Decentralization", "Centralization", "Discipline"],
  a: 1
},
{
  type: "mcq",
  q: "Ability to analyze situations and distinguish cause and effect is:",
  options: ["Human skill", "Technical skill", "Conceptual skill", "Developmental skill"],
  a: 2
},
/* ===== NUR 322 ===== */

{
  type: "mcq",
  q: "Personal supervision and formal administrative systems are used in:",
  options: ["Feed forward", "External", "Steering", "Internal"],
  a: 1
},
{
  type: "mcq",
  q: "Communicating with yourself is:",
  options: ["Intrapersonal", "Interpersonal", "Group", "Mass"],
  a: 0
},
{
  type: "mcq",
  q: "Obligation of subordinate to perform duties is:",
  options: ["Accountability", "Authority", "Responsibility", "Commitment"],
  a: 2
},
{
  type: "mcq",
  q: "Translating a message into symbols is:",
  options: ["Decoding", "Action", "Encoding", "Feedback"],
  a: 2
},
{
  type: "mcq",
  q: "A type of managerial decision is:",
  options: ["Analytic", "Structured", "Nonprogrammed", "Unstructured"],
  a: 2
},
{
  type: "mcq",
  q: "When managers make decisions quickly without a lot of information, they apply:",
  options: ["Analytical style", "Directive style", "Conceptual style", "Behavioral style"],
  a: 1
},
{
  type: "mcq",
  q: "Framework of formal relationships refers to:",
  options: ["Organizational structure", "Staffing", "Communication", "Job description"],
  a: 0
},
{
  type: "mcq",
  q: "The plan designed to meet the needs of a unique situation is:",
  options: ["Single-use plan", "Standing plan", "Short-term plan", "Long-term plan"],
  a: 0
},
{
  type: "mcq",
  q: "The type of control accomplished before beginning the work is:",
  options: ["Concurrent", "Post action", "Intermediated", "Preliminary"],
  a: 3
},
{
  type: "mcq",
  q: "A source for active recruitment includes:",
  options: ["Investigation", "Socialization", "Advertisement", "Induction"],
  a: 2
},
{
  type: "mcq",
  q: "The manager provides guidance and inspiration to subordinates through:",
  options: ["Continuous activity", "Humanistic", "Executive function", "Pervasive function"],
  a: 2
},
{
  type: "mcq",
  q: "The organizational chart that defines personnel names is:",
  options: ["Manning chart", "Skeleton chart", "Master chart", "Functional chart"],
  a: 0
},
{
  type: "mcq",
  q: "The management activity concerned with discipline of the workforce is:",
  options: ["Directing", "Supervision", "Motivation", "Communication"],
  a: 1
},
{
  type: "mcq",
  q: "A type of planning designed for the entire organization is:",
  options: ["Directional plans", "Strategic plans", "Single-use plans", "Specific plans"],
  a: 1
},
{
  type: "mcq",
  q: "Type of directing that helps maintain accountability is:",
  options: ["Oral", "Automatic", "Comprehension", "Written"],
  a: 3
},
/* ===== Exam 2018 ===== */

{ type: "tf", q: "Circular charts show high-level management in the center.", a: false },
{ type: "tf", q: "Informal organization sets regulations and rules.", a: false },
{ type: "tf", q: "Direction gives manager a passive role.", a: false },
{ type: "tf", q: "Strategic plans cover short time period.", a: false },
{ type: "tf", q: "Effectiveness refers to attaining organizational goals.", a: true },
{ type: "tf", q: "Administration is determinative while management is executive.", a: true },
{ type: "tf", q: "Internal controlling allows self-control.", a: true },
{ type: "tf", q: "Planning is affected by external limitations.", a: true },

/* ===== Exam 2019 ===== */

{ type: "tf", q: "The organizational structure is created by middle managers.", a: false },
{ type: "tf", q: "Nursing information system helps nurses handle day-to-day tasks.", a: true },
{ type: "tf", q: "Written direction increases duplication of efforts.", a: false },
{ type: "tf", q: "Specific plans specify details of how overall goals are achieved.", a: true },
{ type: "tf", q: "Efficiency is doing the right things.", a: false },
{ type: "tf", q: "Structured interview requires little planning.", a: false },
{ type: "tf", q: "External controlling occurs through formal administrative systems.", a: true },
{ type: "tf", q: "Directing begins from the lower level to the top level.", a: false },

/* ===== Exam 2020 ===== */

{ type: "tf", q: "Efficiency refers to getting the most output from the least amount of input.", a: true },
{ type: "tf", q: "Planning is the subsidiary function of management.", a: false },
{ type: "tf", q: "In oral direction, nurses get opportunity to study the direction carefully.", a: false },
{ type: "tf", q: "Preliminary controls are accomplished after a work activity begins.", a: false },
{ type: "tf", q: "Recruitment is a process of attracting applicants for existing positions.", a: true },
{ type: "tf", q: "The organizational structure is created by middle managers.", a: false },
{ type: "tf", q: "The communication process can be completed without feedback.", a: false },
{ type: "tf", q: "Specific plans are clearly defined with little room for interpretation.", a: true },
{ type: "tf", q: "Nonprogrammed decisions involve routine problems.", a: false },
{ type: "tf", q: "Administration is a determinative function while management is an executive function.", a: true },
{ type: "tf", q: "Advanced staffing system is based on patients and staff numbers.", a: false },
{ type: "tf", q: "Output standards measure work efforts that go into a performance task.", a: false },

/* ===== Exam 2022 ===== */

{ type: "tf", q: "Planning can be defined as retrospective thinking.", a: false },
{ type: "tf", q: "Communication process can be completed without feedback.", a: false },
{ type: "tf", q: "Interpersonal skills are considered during staffing.", a: true },
{ type: "tf", q: "Unstructured interview requires little planning.", a: false },
{ type: "tf", q: "In decentralized scheduling, one supervisor plans coverage for all units.", a: false },
{ type: "tf", q: "Written orders help maintain accuracy.", a: true },
{ type: "tf", q: "Motivation is issuing orders and instructions.", a: false },

/* ===== NUR 322 ===== */

{ type: "tf", q: "Planning facilitates overlapping of tasks.", a: false },
{ type: "tf", q: "Input standards measure performance results.", a: false },
{ type: "tf", q: "Recruiters require technological skills.", a: true },
{ type: "tf", q: "A structured problem can lead to disaster if not resolved quickly.", a: false },
{ type: "tf", q: "Control activities are essential responsibilities of first-line managers.", a: false },
{ type: "tf", q: "Type of patients should be considered during staffing.", a: true },
{ type: "tf", q: "Policy is used as a means of downward communication.", a: true },
{ type: "tf", q: "Free-rein direction shows the best and quickest results.", a: true },
{ type: "tf", q: "Lines of authority are an important factor of grapevine communication.", a: false },
{ type: "tf", q: "Operational plans cover 5–11 years to ensure long-term goals.", a: false },
{ type: "tf", q: "Span of control states number of nurses supervised by head nurse.", a: true },
{ type: "tf", q: "Internal controlling allows self-control.", a: true },
{ type: "tf", q: "Problem solving is more comprehensive than decision making.", a: false },
{ type: "tf", q: "Consultative direction leads to better coordination.", a: true },
{ type: "tf", q: "Circular charts show lower-level management in the center.", a: false }
];
console.log(questions.length);
let index = 0;
let answers = Array(questions.length).fill(null);
let reviewMode = false;
let shuffledQuestions = [];
/* ========= ELEMENTS ========= */

const qText = document.getElementById("questionText");
const optionsDiv = document.getElementById("options");
const counter = document.getElementById("counter");
const progress = document.getElementById("progressBar");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("result");
const resultScore = document.getElementById("resultScore");
const resultPercent = document.getElementById("resultPercent");
/* ========= OPTIONS ========= */
function shuffleOptions(arr) {
  const array = [...arr];
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function createOption(text, isCorrect) {
  const b = document.createElement("button");
  b.innerText = text;
  b.onclick = () => select(isCorrect, b);
  optionsDiv.appendChild(b);
}
function select(isCorrect, btn) {
  if (answers[index] !== null) return;

  answers[index] = isCorrect;

  const q = shuffledQuestions[index];

  [...optionsDiv.children].forEach(b => {
    b.disabled = true;

    // لو MCQ
    if (q.type === "mcq") {
      const correctText = q.options[q.a];

      if (b.innerText === correctText) {
        b.style.background = "#27ae60"; // الصح أخضر
      } else if (b === btn) {
        b.style.background = "#e74c3c"; // الغلط أحمر
      }
    }

    // لو True / False
    if (q.type === "tf") {
      if (
        (b.innerText === "True" && q.a === true) ||
        (b.innerText === "False" && q.a === false)
      ) {
        b.style.background = "#27ae60";
      } else if (b === btn) {
        b.style.background = "#e74c3c";
      }
    }
  });

  nextBtn.style.display = "inline-block";
}
function startQuiz() {
  index = 0;
  answers = Array(questions.length).fill(null);
  reviewMode = false;

  // ✅ اعمل نسخة بدل ما تغيّر الأصل
  shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
document.getElementById("questionsBtn").innerText =
  `Questions (${shuffledQuestions.length})`;
  document.getElementById("result").classList.remove("show");
  document.getElementById("home").style.display = "none";
  document.getElementById("quiz").style.display = "block";

  loadQuestion();
}
function loadQuestion() {
  optionsDiv.innerHTML = "";
  nextBtn.style.display = "none";

  const q = shuffledQuestions[index];
  qText.innerText = q.q;
  counter.innerText = `Question ${index + 1} / ${shuffledQuestions.length}`;
  progress.style.width = ((index + 1) / shuffledQuestions.length) * 100 + "%";

  if (q.type === "tf") {
    createOption("True", q.a === true);
createOption("False", q.a === false);
  } else {
    const options = q.options.map((text, i) => ({
  text,
  correct: i === q.a
}));

shuffleOptions(options).forEach(opt => {
  createOption(opt.text, opt.correct);
});
  }
}

function nextQuestion() {
  if (index < questions.length - 1) {
    index++;
    loadQuestion();
  } else {
    finishQuiz();
  }
}

function finishQuiz() {
  const score = answers.filter(a => a === true).length;
  const percent = Math.round((score / questions.length) * 100);

  // اخفي الكويز
  document.getElementById("quiz").style.display = "none";

  // النصوص
  resultScore.innerText = `Score: ${score} / ${questions.length}`;
  resultPercent.innerText = `Percentage: ${percent}%`;

  let title = "";
  if (percent >= 85) {
    title = "اول دفعععهه يعمممم";
  } else if (percent >= 70) {
    title = "شد شويه يعممم";
  } else {
    title = "انت اخرك تخش كليه البهاييييمممم";
  }

  document.getElementById("resultTitle").innerText = title;

  // أظهر النتيجة بالأنيميشن
  resultBox.classList.add("show");
}
function restartQuiz() {
  document.getElementById("result").classList.remove("show");
  startQuiz();
}
function toggleQuestions() {
  const list = document.getElementById("questionsList");
  list.classList.toggle("show");
  renderQuestionsList();
}

function renderQuestionsList() {
  const list = document.getElementById("questionsList");
  list.innerHTML = "";

  shuffledQuestions.forEach((q, i) => {
    const b = document.createElement("button");
    b.innerText = i + 1;

    if (answers[i] === null) {
      b.className = "q-unanswered";
    } else if (answers[i] === true) {
      b.className = "q-correct";
    } else {
      b.className = "q-wrong";
    }

    if (i === index) {
      b.style.outline = "3px solid #3498db";
    }

    b.onclick = () => {
      index = i;
      loadQuestion();
      renderQuestionsList();
    };

    list.appendChild(b);
  });
}
/* ========= MENU ========= */

const sideMenu = document.getElementById("sideMenu");
const overlay = document.getElementById("overlay");

function toggleMenu() {
  sideMenu.classList.toggle("show");
  overlay.classList.toggle("show");
}

function closeMenu() {
  sideMenu.classList.remove("show");
  overlay.classList.remove("show");
}

/* ========= DARK MODE ========= */

function toggleDark() {
  document.body.classList.toggle("dark");
}
